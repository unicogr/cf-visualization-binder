#!/bin/bash
set -e

echo "ðŸ”§ Setting up Jupyter extensions..."

# Check if we're using JupyterLab 3+ or Jupyter Notebook
JUPYTER_VERSION=$(python -c "import jupyter_core; print(jupyter_core.__version__)" 2>/dev/null || echo "unknown")
echo "Jupyter version: $JUPYTER_VERSION"

# For JupyterLab 3+, ipywidgets are installed automatically
# We just need to enable voila
jupyter server extension enable voila --sys-prefix 2>/dev/null || echo "Voila already enabled"

# Configure VoilÃ  to show tracebacks
mkdir -p ~/.jupyter
cat > ~/.jupyter/voila.json << 'JSON'
{
  "VoilaConfiguration": {
    "show_tracebacks": true
  }
}
JSON

echo "âœ… Setup complete!"
